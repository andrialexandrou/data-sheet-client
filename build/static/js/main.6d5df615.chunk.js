(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t){e.exports=["Total Nonfarm","Total Private","Goods Producing","Service-Providing","Private Service Providing","Mining and Logging","Logging","Mining, Quarrying, and Oil and Gas Extraction","Oil and Gas Extraction","Mining (except Oil and Gas)","Coal Mining","Metal Ore Mining","Support Activities for Mining","Drilling Oil and Gas Wells","Support Activities for Oil and Gas Operations","Mining, Logging and Construction","Construction","Construction of Buildings","Residential Building Construction","Nonresidential Building Construction","Heavy and Civil Engineering Construction","Utility System Construction","Land Subdivision","Highway, Street, and Bridge Construction","Other Heavy and Civil Engineering Construction","Specialty Trade Contractors","Foundation, Structure, and Building Exterior Contractors","Building Equipment Contractors","Building Finishing Contractors","Other Specialty Trade Contractors","Manufacturing","Durable Goods","Wood Product Manufacturing","Sawmills and Wood Preservation","Veneer, Plywood, and Engineered Wood Product Manufacturing","Other Wood Product Manufacturing","Nonmetallic Mineral Product Manufacturing","Cement and Concrete Product Manufacturing","Primary Metal Manufacturing","Iron and Steel Mills and Ferroalloy Manufacturing","Foundries","Fabricated Metal Product Manufacturing","Architectural and Structural Metals Manufacturing","Machine Shops; Turned Product; and Screw, Nut, and Bolt Manufacturing","Other Fabricated Metal Product Manufacturing","Machinery Manufacturing","Agriculture, Construction, and Mining Machinery Manufacturing","Industrial Machinery Manufacturing","Commercial and Service Industry Machinery Manufacturing","Metalworking Machinery Manufacturing","Engine, Turbine, and Power Transmission Equipment Manufacturing","Other General Purpose Machinery Manufacturing","Computer and Electronic Product Manufacturing","Computer and Peripheral Equipment Manufacturing","Electronic Computer Manufacturing","Communications Equipment Manufacturing","Semiconductor and Other Electronic Component Manufacturing","Bare Printed Circuit Board Manufacturing","Semiconductor and Related Device Manufacturing","Navigational, Measuring, Electromedical, and Control Instruments Manufacturing","Electrical Equipment, Appliance, and Component Manufacturing","Household Appliance Manufacturing","Electrical Equipment Manufacturing","Transportation Equipment Manufacturing","Motor Vehicle Manufacturing","Motor Vehicle Body and Trailer Manufacturing","Motor Vehicle Parts Manufacturing","Aerospace Product and Parts Manufacturing","Ship and Boat Building","Furniture and Related Product Manufacturing","Household and Institutional Furniture and Kitchen Cabinet Manufacturing","Miscellaneous durable goods manufacturing","Medical Equipment and Supplies Manufacturing","Other Miscellaneous Manufacturing","Jewelry and Silverware Manufacturing","Non-Durable Goods","Food Manufacturing","Grain and Oilseed Milling","Fruit and Vegetable Preserving and Specialty Food Manufacturing","Dairy Product Manufacturing","Animal Slaughtering and Processing","Seafood Product Preparation and Packaging","Bakeries and Tortilla Manufacturing","Other Food Manufacturing","Beverage and Tobacco Product Manufacturing","Beverage Manufacturing","Tobacco Manufacturing","Textile Mills","Fiber, Yarn, and Thread Mills","Fabric Mills","Textile and Fabric Finishing and Fabric Coating Mills","Textile Product Mills","Textile Furnishings Mills","Apparel Manufacturing","Apparel Knitting Mills","Cut and Sew Apparel Manufacturing","Paper Manufacturing","Pulp, Paper, and Paperboard Mills","Converted Paper Product Manufacturing","Printing and Related Support Activities","Petroleum and Coal Products Manufacturing","Chemical Manufacturing","Basic Chemical Manufacturing","Pharmaceutical and Medicine Manufacturing","Soap, Cleaning Compound, and Toilet Preparation Manufacturing","Plastics and Rubber Products Manufacturing","Plastics Product Manufacturing","Rubber Product Manufacturing","Trade, Transportation, and Utilities","Wholesale Trade","Merchant Wholesalers, Durable Goods","Motor Vehicle and Motor Vehicle Parts and Supplies Merchant Wholesalers","Furniture and Home Furnishing Merchant Wholesalers","Lumber and Other Construction Materials Merchant Wholesalers","Professional and Commercial Equipment and Supplies Merchant Wholesalers","Household Appliances and Electrical and Electronic Goods Merchant Wholesalers","Hardware, and Plumbing and Heating Equipment and Supplies Merchant Whole","Machinery, Equipment, and Supplies Merchant Wholesalers","Miscellaneous Durable Goods Merchant Wholesalers","Merchant Wholesalers, Nondurable Goods","Paper and Paper Product Merchant Wholesalers","Apparel, Piece Goods, and Notions Merchant Wholesalers","Grocery and Related Product Merchant Wholesalers","Chemical and Allied Products Merchant Wholesalers","Miscellaneous Nondurable Goods Merchant Wholesalers","Wholesale Electronic Markets and Agents and Brokers","Retail Trade","Motor Vehicle and Parts Dealers","Automobile Dealers","Other Motor Vehicle Dealers","Automotive Parts, Accessories, and Tire Stores","Furniture and Home Furnishings Stores","Furniture Stores","Home Furnishings Stores","Electronics and Appliance Stores","Building Material and Garden Equipment and Supplies Dealers","Building Material and Supplies Dealers","Food and Beverage Stores","Grocery Stores","Specialty Food Stores","Beer, Wine, and Liquor Stores","Health and Personal Care Stores","Gasoline Stations","Clothing and Clothing Accessories Stores","Clothing Stores","Jewelry, Luggage, and Leather Goods Stores","Sporting Goods, Hobby, Musical Instrument, and Book Stores","Sporting Goods, Hobby, and Musical Instrument Stores","Book Stores and News Dealers","General Merchandise Stores","Department Stores","General Merchandise Stores, including Warehouse Clubs and Supercenters","Miscellaneous Store Retailers","Office Supplies, Stationery, and Gift Stores","Used Merchandise Stores","Other Miscellaneous Store Retailers","Nonstore Retailers","Electronic Shopping and Mail-Order Houses","Transportation, Warehousing, and Utilities","Utilities","Electric Power Generation, Transmission and Distribution","Natural Gas Distribution","Transportation and Warehousing","Air Transportation","Scheduled Air Transportation","Rail Transportation","Water Transportation","Truck Transportation","General Freight Trucking","Specialized Freight Trucking","Transit and Ground Passenger Transportation","Taxi and Limousine Service","School and Employee Bus Transportation","Pipeline Transportation","Support Activities for Transportation","Support Activities for Air Transportation","Support Activities for Water Transportation","Support Activities for Road Transportation","Freight Transportation Arrangement","Couriers and Messengers","Warehousing and Storage","Information","Publishing Industries (except Internet)","Newspaper, Periodical, Book, and Directory Publishers","Software Publishers","Motion Picture and Sound Recording Industries","Motion Picture and Video Industries","Motion Picture and Video Production","Broadcasting (except Internet)","Radio and Television Broadcasting","Cable and Other Subscription Programming","Telecommunications","Wired and Wireless Telecommunications Carriers","Wired Telecommunications Carriers","Wireless Telecommunications Carriers (except Satellite)","Data Processing, Hosting, and Related Services","Other Information Services","Financial Activities","Finance and Insurance","Credit Intermediation and Related Activities including Monetary Authorities - Central Bank","Depository Credit Intermediation including Monetary Authorities - Central Bank","Commercial Banking","Nondepository Credit Intermediation","Activities Related to Credit Intermediation","Financial Investments and Related Activities including Financial Vehicles","Securities and Commodity Contracts Intermediation and Brokerage","Investment Banking and Securities Dealing","Securities Brokerage","Other Financial Investment Activities including Financial Vehicles","Insurance Carriers and Related Activities","Insurance Carriers","Direct Life Insurance Carriers","Direct Health and Medical Insurance Carriers","Direct Property and Casualty Insurance Carriers","Agencies, Brokerages, and Other Insurance Related Activities","Real Estate and Rental and Leasing","Real Estate","Lessors of Real Estate","Offices of Real Estate Agents and Brokers","Activities Related to Real Estate","Rental and Leasing Services","Automotive Equipment Rental and Leasing","Consumer Goods Rental","General Rental Centers","Commercial and Industrial Machinery and Equipment Rental and Leasing","Professional and Business Services","Professional, Scientific, and Technical Services","Legal Services","Accounting, Tax Preparation, Bookkeeping, and Payroll Services","Architectural, Engineering, and Related Services","Specialized Design Services","Computer Systems Design and Related Services","Management, Scientific, and Technical Consulting Services","Scientific Research and Development Services","Advertising, Public Relations, and Related Services","Other Professional, Scientific, and Technical Services","Management of Companies and Enterprises","Administrative and Support and Waste Management and Remediation Services","Administrative and Support Services","Office Administrative Services","Facilities Support Services","Employment Services","Temporary Help Services","Business Support Services","Telephone Call Centers","Travel Arrangement and Reservation Services","Investigation and Security Services","Investigation, Guard, and Armored Car Services","Services to Buildings and Dwellings","Other Support Services","Waste Management and Remediation Services","Education and Health Services","Educational Services","Elementary and Secondary Schools","Junior Colleges","Colleges, Universities, and Professional Schools","Other Schools and Instruction","Health Care and Social Assistance","Ambulatory Health Care Services","Offices of Physicians","Offices of Dentists","Offices of Other Health Practitioners","Outpatient Care Centers","Medical and Diagnostic Laboratories","Home Health Care Services","Other Ambulatory Health Care Services","Hospitals","General Medical and Surgical Hospitals","Psychiatric and Substance Abuse Hospitals","Specialty (except Psychiatric and Substance Abuse) Hospitals","Nursing and Residential Care Facilities","Nursing Care Facilities (Skilled Nursing Facilities)","Residential Intellectual and Developmental Disability, Mental Health and Substance Abuse Facilities","Continuing Care Retirement Communities and Assisted Living Facilities for the Elderly","Other Residential Care Facilities","Social Assistance","Individual and Family Services","Services for the Elderly and Persons with Disabilities","Community Food and Housing, and Emergency and Other Relief Services","Vocational Rehabilitation Services","Child Day Care Services","Leisure and Hospitality","Arts, Entertainment, and Recreation","Performing Arts, Spectator Sports, and Related Industries","Performing Arts Companies","Spectator Sports","Promoters of Performing Arts, Sports, and Similar Events","Independent Artists, Writers, and Performers","Museums, Historical Sites, and Similar Institutions","Amusement, Gambling, and Recreation Industries","Amusement Parks and Arcades","Gambling Industries","Other Amusement and Recreation Industries","Fitness and Recreational Sports Centers","Accommodation and Food Services","Accommodation","Traveler Accommodation","Hotels (except Casino Hotels) and Motels","Casino Hotels","Food Services and Drinking Places","Special Food Services","Drinking Places (Alcoholic Beverages)","Restaurants and Other Eating Places","Full-Service Restaurants","Limited-Service Restaurants and Other Eating Places","Other Services","Repair and Maintenance","Automotive Repair and Maintenance","Commercial and Industrial Machinery and Equipment (except Automotive and Electronic) Repair and Maintenance","Personal and Household Goods Repair and Maintenance","Personal and Laundry Services","Personal Care Services","Drycleaning and Laundry Services","Other Personal Services","Religious, Grantmaking, Civic, Professional, and Similar Organizations","Religious Organizations","Grantmaking and Giving Services","Social Advocacy Organizations","Civic and Social Organizations","Business, Professional, Labor, Political, and Similar Organizations","Government","Federal Government","National Security","Federal Government excluding Department of Defense","Federal Government excluding Postal Service","Federal Government excluding Postal Service, Department of Defense, Ship Building, and Hospitals","Federal Government Hospitals","Department of Defense","Department of Defense, including Ship Building","Department of Defense, including Ship Building and Hospitals","U.S. Postal Service","State Government","State Government Educational Services","State Government Excluding Education","State Government Hospitals","State Government excluding Educational Services and Hospitals","Local Government","Indian Tribes","Local Government Educational Services","Local Government excluding Educational Services","Transportation","Local Government Hospitals","Local Government Elementary and Secondary Education","Total State and Local Government","District of Columbia Government"]},111:function(e,t,n){e.exports=n(312)},116:function(e,t,n){},118:function(e,t,n){},312:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(41),o=n.n(r),s=(n(116),n(7)),l=n(8),c=n(10),u=n(9),d=n(11),m=n(14),g=(n(118),n(42)),h=n.n(g),f=n(12),p=n(18),v=n.n(p),S=n(2),y=n.n(S),E=n(140),b=function(e){function t(e,n){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e,n))).getFromServer=function(e){var t=a.props.dataset,n="http://".concat(window.location.hostname,":4000/").concat(t,"/suggest?geo=").concat(e);return new Promise(function(e,t){v.a.get(n).then(function(t){e(t.data)}).catch(function(e){t(e)})})},a.onClear=function(){a.setState({suggestions:[]})},a.onFetch=y.a.debounce(function(e){var t=e.value;a.getFromServer(t).then(function(e){var t=e.map(function(e){return e.area});a.setState({suggestions:t})})},500),a.renderSuggestion=function(e){return i.a.createElement("div",null,e)},a.renderSelections=function(e){var t=0;return i.a.createElement("div",null,e.map(function(e){return t++,i.a.createElement("div",{key:t},e)}))},a.onKeyDown=function(e){var t=13===e.which,n=8===e.which;if(t){var i=a.state.value;a.props.add({text:i,id:i},"area"),a.setState({value:""})}n&&a.props.remove("last","area")},a.onChange=function(e,t){var n=t.newValue;if("change"===e.type&&a.setState({value:n}),"keydown"===e.type){var i=40===e.which,r=38===e.which,o=a.state.suggestions.indexOf(a.state.value),s=a.state.value;if(r){var l=0===o,c=a.state.suggestions[o-1];s=l?a.state.value:c}if(i){var u=o+1===a.state.suggestions.length,d=a.state.suggestions[o+1];s=u?a.state.value:d}a.setState({value:s})}},a.state={value:"",suggestions:[],selections:[]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.suggestions,t={value:this.state.value,onChange:this.onChange,onKeyDown:this.onKeyDown,onBlur:function(){},type:"search",placeholder:"location"};return i.a.createElement("div",null,this.renderSelections(this.state.selections),i.a.createElement(E,{suggestions:e,onSuggestionsFetchRequested:this.onFetch,onSuggestionsClearRequested:this.onClear,getSuggestionValue:this.getFromServer,renderSuggestion:this.renderSuggestion,inputProps:t}))}}]),t}(a.Component),C=n(72),M=C.Toolbar,w=C.Data.Selectors;var k=function(e){function t(e,n){var a,r=this;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e,n))).requestFromAPI=function(e){var t=function(e){var t="?";return y.a.forEach(e,function(e,n){var a=n,i=e.join("|"),r="".concat(a,"=").concat(i,"&");t+=r}),t}(a.state.filters);a.getFromServer(t,e)},a.getSize=function(){return a.getRows().length},a.getRows=function(){return w.getRows(a.state)},a.rowGetter=function(e){return a.getRows()[e]},a.onClearFilters=function(){a.setState({filters:{},tags:{}},a.requestFromAPI)},a.download=function(){a.setState({isWaitingForDownload:!0}),a.requestFromAPI(!0)},a.pleaseHold=function(){alert("Still in development! Come back in a few days?")},a.handleClick=function(e){e.target.offsetParent&&"filter-pane"===e.target.offsetParent.className||a.closeFilters()},a.closeFilters=function(){document.removeEventListener("mousedown",a.handleClick,!1),a.setState({showFilters:!1})},a.openFilters=function(){document.addEventListener("mousedown",a.handleClick,!1),a.setState({showFilters:!0})},a.findKey=function(e){var t="",n=a.measureTypes.find(function(t){return t===e}),i=a.seasonalityEnums.find(function(t){return t.key===e}),r=a.areaTypes.find(function(t){return t===e});return n?t="measure_type":i?t="seasonality_enum":r&&(t="area_type"),t},a.handleChange=function(e){var t=a.state.filters,n=e.target,i="checkbox"===n.type?n.checked:n.value,r=n.name;if("checkbox"===n.type){var o=a.findKey(r);i?t[o]=y.a.uniq((t[o]||[]).concat(r)):(t[o]=y.a.uniq(t[o].filter(function(e){return e!==r})),0===t[o].length&&delete t[o])}a.setState({filters:t})},a.handleTagDelete=function(e,t){if(a.state.tags.area&&0!==a.state.tags.area.length){"last"===e&&"area"===t&&(e=a.state.tags.area.length-1);var n=a.state,i=n.filters,r=n.tags;i[t]&&(i[t]=i[t].filter(function(t,n){return n!==e}),0===i[t].length&&delete i[t],r[t]=r[t].filter(function(t,n){return n!==e}),a.setState({filters:i,tags:r}))}},a.handleTagAdd=function(e,t){var n=a.state,i=n.filters,r=n.tags;i[t]=(i[t]||[]).concat(e.text),r[t]=(r[t]||[]).concat(e),a.setState({filters:i,tags:r})},a.DownloadButton=function(){return y.a.isEmpty(a.state.filters)?i.a.createElement("button",{disabled:!0},"Select some stuff below and then you can download."):i.a.createElement("button",{onClick:a.download},"Download current view.")},a.isChecked=function(e,t){return a.state.filters[e]&&a.state.filters[e].includes(t)},a.makeCheckboxes=function(e,t){var n=[],r=0;return t.forEach(function(t){var o="",s="";"object"==typeof t?(o=t.key,s=t.note):o=t,n.push(i.a.createElement("div",{key:r},i.a.createElement("label",null,i.a.createElement("input",{name:o,type:"checkbox",checked:a.isChecked(e,o),onChange:a.handleChange}),"\xa0",o," ",s))),r++}),i.a.createElement("div",null,n)},a.FormButtons=function(){return i.a.createElement("div",null,i.a.createElement("div",null,"Meets criteria:",i.a.createElement("ul",null,Object.keys(a.state.filters).map(function(e,t){var n=t+1===y.a.size(a.state.filters),r=a.state.filters[e].join(" OR ");return n||(r+=" AND"),i.a.createElement("li",{key:t},r)})),i.a.createElement("div",{className:"flex-container"},i.a.createElement("div",{className:"flex-column"},i.a.createElement("button",{style:{backgroundColor:"green",color:"white",fontWeight:"800"},onClick:function(){return a.requestFromAPI(!1)}},"Preview Results")),i.a.createElement("div",{className:"flex-column"},i.a.createElement("button",{onClick:a.onClearFilters},"Clear Filters")),i.a.createElement("div",{className:"flex-column"},i.a.createElement(r.DownloadButton,{className:"flex-column"}))),a.state.isWaitingForDownload?i.a.createElement("div",{style:{color:"green"}},"\xa0Waiting for download..."):null))},a.FilterForm=function(){var e=[9,13];return i.a.createElement("div",{className:"filter-pane"},i.a.createElement("form",null,i.a.createElement("div",{className:"disclaimer"},"At the moment, text values inserted here must match upper/lowercase and punctuation of the target search field."),i.a.createElement("div",{className:"flex-container"},i.a.createElement("label",{className:"flex-column hide-input"},i.a.createElement("b",null,"Area"),i.a.createElement("div",null,i.a.createElement(f.WithContext,{tags:a.state.tags.area,handleDelete:function(){},handleAddition:function(){},delimiters:e}),i.a.createElement(b,{dataset:"laus",add:a.handleTagAdd,remove:a.handleTagDelete}))),i.a.createElement("label",{className:"flex-column"},i.a.createElement("b",null,"Period"),i.a.createElement("div",null,i.a.createElement(f.WithContext,{tags:a.state.tags.period,handleDelete:function(e){return a.handleTagDelete(e,"period")},handleAddition:function(e){return a.handleTagAdd(e,"period")},delimiters:e}))),i.a.createElement("label",{className:"flex-column"},i.a.createElement("b",null,"Label"),i.a.createElement("div",null,i.a.createElement(f.WithContext,{tags:a.state.tags.label,handleDelete:function(e){return a.handleTagDelete(e,"label")},handleAddition:function(e){return a.handleTagAdd(e,"label")},delimiters:e})))),i.a.createElement("div",{className:"flex-container"},i.a.createElement("section",{className:"flex-column"},i.a.createElement("b",null,"Area Types"),a.makeCheckboxes("area_type",a.areaTypes)),i.a.createElement("section",{className:"flex-column"},i.a.createElement("b",null,"Measure Types"),a.makeCheckboxes("measure_type",a.measureTypes)),i.a.createElement("section",{className:"flex-column"},i.a.createElement("b",null,"Seasonality"),a.makeCheckboxes("seasonality_enum",a.seasonalityEnums)))),i.a.createElement(r.FormButtons,null))},a._columns=[{key:"survey_name",name:"Survey Name",width:160},{key:"series_title",name:"Series Title",width:160},{key:"series_id",name:"Series ID",width:200},{key:"period",name:"Period",width:150},{key:"label",name:"Label",width:150},{key:"seasonality_enum",name:"Seasonality",width:100},{key:"area",name:"Area",width:350},{key:"area_type",name:"Area Type",width:160},{key:"measure_type",name:"Measure Type",width:160},{key:"value",name:"Value",width:200}],a.seasonalityEnums=[{key:"S",note:"(seasonally adjusted)"},{key:"U",note:"(not adjusted)"}],a.areaTypes=["National","Statewide","Metropolitan areas","Metropolitan divisions","Micropolitan areas","Combined areas","Counties and equivalents","Cities and towns above 25,000 population","Cities and towns below 25,000 population in New England","Parts of cities that cross county boundaries","Multi-entity small labor market areas","Intrastate parts of interstate areas","Balance of state areas","Census regions","Census divisions"],a.measureTypes=["Unemployment Rate","Unemployment","Employment","Labor Force"],a.state={showFilters:!1,rows:[],filters:{},tags:{}},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"getFromServer",value:function(e,t){var n=this,a="http://".concat(window.location.hostname,":4000/laus");t&&(a+="/download"),e&&(a+=e),console.log("path",a),t||v.a.get(a).then(function(e){if(t){var a=e.headers,i=new Blob([e.data],{type:a["content-type"]}),r=document.createElement("a");r.style.display="none",r.href=window.URL.createObjectURL(i),r.download=function(){var e=new Date;return"LAUS_".concat(1900+e.getYear(),"-").concat(e.getMonth(),"-").concat(e.getDate(),".csv")}(),r.click(),n.setState({isWaitingForDownload:!1})}else{n._rows=e.data;var o=e.data[e.data.length-1];o&&o.hasMoreResults,n.setState({rows:n._rows})}}).catch(function(e){console.log("Resource not available.\n",e)})}},{key:"componentWillMount",value:function(){this.getFromServer()}},{key:"render",value:function(){return this._rows?i.a.createElement("div",null,i.a.createElement(this.FilterForm,null),i.a.createElement("div",{style:{position:"absolute",left:"0",width:"100%"}},i.a.createElement(h.a,{columns:this._columns,rowGetter:this.rowGetter,rowsCount:this.getSize(),minHeight:600,minColumnWidth:120,toolbar:i.a.createElement(M,null)}),i.a.createElement("div",{className:"disclaimer"},"Data above is only the first 100 rows. If you choose to download your current filter, it will provide the full dataset as stored in the database."))):null}}]),t}(a.Component),P=n(110),F=n.n(P),A=n(72),T=A.Toolbar,D=A.Data.Selectors;var R=function(e){function t(e,n){var a,r=this;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e,n))).requestFromAPI=function(e){var t=function(e){var t="?";return y.a.forEach(e,function(e,n){var a=n,i=e.join("|"),r="".concat(a,"=").concat(i,"&");t+=r}),t}(a.state.filters);a.getFromServer(t,e)},a.getSize=function(){return a.getRows().length},a.getRows=function(){return D.getRows(a.state)},a.rowGetter=function(e){return a.getRows()[e]},a.onClearFilters=function(){a.setState({filters:{},tags:{}},a.requestFromAPI)},a.download=function(){a.setState({isWaitingForDownload:!0}),a.requestFromAPI(!0)},a.pleaseHold=function(){alert("Still in development! Come back in a few days?")},a.handleClick=function(e){e.target.offsetParent&&"filter-pane"===e.target.offsetParent.className||a.closeFilters()},a.closeFilters=function(){document.removeEventListener("mousedown",a.handleClick,!1),a.setState({showFilters:!1})},a.openFilters=function(){document.addEventListener("mousedown",a.handleClick,!1),a.setState({showFilters:!0})},a.findKey=function(e){var t="",n=a.supersectors.find(function(t){return t===e}),i=a.seasonalityEnums.find(function(t){return t.key===e}),r=a.industries.find(function(t){return t===e});return n?t="supersector_type":i?t="seasonality_enum":r&&(t="industry_type"),t},a.handleChange=function(e){var t=a.state.filters,n=e.target,i="checkbox"===n.type?n.checked:n.value,r=n.name;if("checkbox"===n.type){var o=a.findKey(r);i?t[o]=y.a.uniq((t[o]||[]).concat(r)):(t[o]=y.a.uniq(t[o].filter(function(e){return e!==r})),0===t[o].length&&delete t[o])}a.setState({filters:t})},a.handleTagDelete=function(e,t){if("last"!==e||"area"!==t||(e=a.state.tags.area&&a.state.tags.area.length-1)){var n=a.state,i=n.filters,r=n.tags;i[t]&&(i[t]=i[t].filter(function(t,n){return n!==e}),0===i[t].length&&delete i[t],r[t]=r[t].filter(function(t,n){return n!==e}),a.setState({filters:i,tags:r}))}},a.handleTagAdd=function(e,t){var n=a.state,i=n.filters,r=n.tags;i[t]=(i[t]||[]).concat(e.text),r[t]=(r[t]||[]).concat(e),a.setState({filters:i,tags:r})},a.DownloadButton=function(){return a._rows&&0===a._rows.length?i.a.createElement("button",{disabled:!0},"Unable to download current view."):i.a.createElement("button",{onClick:a.download},"Download current view.")},a.isChecked=function(e,t){return a.state.filters[e]&&a.state.filters[e].includes(t)},a.makeCheckboxes=function(e,t){var n=[],r=0;return t.forEach(function(t){var o="",s="";"object"==typeof t?(o=t.key,s=t.note):o=t,n.push(i.a.createElement("div",{key:r},i.a.createElement("label",null,i.a.createElement("input",{name:o,type:"checkbox",checked:a.isChecked(e,o),onChange:a.handleChange}),"\xa0",o," ",s))),r++}),i.a.createElement("div",null,n)},a.FormButtons=function(){return i.a.createElement("div",null,i.a.createElement("div",null,"Meets criteria:",i.a.createElement("ul",null,Object.keys(a.state.filters).map(function(e,t){var n=t+1===y.a.size(a.state.filters),r=a.state.filters[e].join(" OR ");return n||(r+=" AND"),i.a.createElement("li",{key:t},r)})),i.a.createElement("div",{className:"flex-container"},i.a.createElement("div",{className:"flex-column"},i.a.createElement("button",{style:{backgroundColor:"green",color:"white",fontWeight:"800"},onClick:function(){return a.requestFromAPI(!1)}},"Preview Results")),i.a.createElement("div",{className:"flex-column"},i.a.createElement("button",{onClick:a.onClearFilters},"Clear Filters")),i.a.createElement("div",{className:"flex-column"},i.a.createElement(r.DownloadButton,null)),a.state.isWaitingForDownload?i.a.createElement("div",{style:{color:"green"}},"\xa0Waiting for download..."):null)))},a.FilterForm=function(){var e=[9,13];return i.a.createElement("div",{className:"filter-pane"},i.a.createElement("form",null,i.a.createElement("div",{className:"disclaimer"},"At the moment, text values inserted here must match upper/lowercase and punctuation of the target search field."),i.a.createElement("div",{className:"flex-container"},i.a.createElement("section",{className:"flex-column"},i.a.createElement("label",null,i.a.createElement("b",null,"State"),i.a.createElement("div",null,i.a.createElement(f.WithContext,{tags:a.state.tags.state,handleDelete:function(e){return a.handleTagDelete(e,"state")},handleAddition:function(e){return a.handleTagAdd(e,"state")},delimiters:e})))),i.a.createElement("section",{className:"flex-column"},i.a.createElement("label",null,i.a.createElement("b",null,"Period"),i.a.createElement("div",null,i.a.createElement(f.WithContext,{tags:a.state.tags.period,handleDelete:function(e){return a.handleTagDelete(e,"period")},handleAddition:function(e){return a.handleTagAdd(e,"period")},delimiters:e})))),i.a.createElement("section",{className:"flex-column"},i.a.createElement("label",null,i.a.createElement("b",null,"Label"),i.a.createElement("div",null,i.a.createElement(f.WithContext,{tags:a.state.tags.label,handleDelete:function(e){return a.handleTagDelete(e,"label")},handleAddition:function(e){return a.handleTagAdd(e,"label")},delimiters:e}))))),i.a.createElement("div",{className:"flex-container"},i.a.createElement("section",{className:"flex-column"},i.a.createElement("b",null,"Seasonality"),a.makeCheckboxes("seasonality_enum",a.seasonalityEnums),i.a.createElement("b",null,"Supersectors"),a.makeCheckboxes("supersector",a.supersectors)),i.a.createElement("section",{className:"flex-column"},i.a.createElement("b",null,"Industries"),a.makeCheckboxes("industry",a.industries)))),i.a.createElement(r.FormButtons,null))},a._columns=[{key:"survey_name",name:"Survey Name",width:160,resizable:!0},{key:"series_title",name:"Series Title",width:160},{key:"series_id",name:"Series ID",width:200},{key:"period",name:"Period",width:150},{key:"label",name:"Label",width:150},{key:"seasonality_enum",name:"Seasonality",width:100},{key:"state",name:"State",width:160},{key:"area_type",name:"Area Type",width:350},{key:"employment_type",name:"Employment Type",width:160},{key:"supersector",name:"Supersector",width:160},{key:"industry",name:"Industry",width:160},{key:"value",name:"Value",width:200}],a.seasonalityEnums=[{key:"S",note:"(seasonally adjusted)"},{key:"U",note:"(not adjusted)"}],a.supersectors=["Total Nonfarm","Total Private","Goods Producing","Service-Providing","Private Service Providing","Mining and Logging","Mining, Logging, and Construction","Construction","Manufacturing","Durable Goods","Non-Durable Goods","Trade, Transportation, and Utilities","Wholesale Trade","Retail Trade","Transportation and Utilities","Information","Financial Activities","Professional and Business Services","Education and Health Services","Leisure and Hospitality","Other Services","Government"],a.industries=F.a,a.state={showFilters:!1,rows:[],filters:{},tags:{}},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"getFromServer",value:function(e,t){var n=this,a="http://".concat(window.location.hostname,":4000/employ");t&&(a+="/download"),e&&(a+=e),console.log("path",a),t||v.a.get(a).then(function(e){if(t){var a=e.headers,i=new Blob([e.data],{type:a["content-type"]}),r=document.createElement("a");r.style.display="none",r.href=window.URL.createObjectURL(i),r.download=function(){var e=new Date;return"EMPLOYMENT_".concat(1900+e.getYear(),"-").concat(e.getMonth(),"-").concat(e.getDate(),".csv")}(),r.click(),n.setState({isWaitingForDownload:!1})}else{n._rows=e.data;var o=e.data[e.data.length-1];o&&o.hasMoreResults,n.setState({rows:n._rows})}}).catch(function(e){console.log("Resource not available.\n",e)})}},{key:"componentWillMount",value:function(){this.getFromServer()}},{key:"render",value:function(){return this._rows?i.a.createElement("div",null,i.a.createElement(this.FilterForm,null),i.a.createElement("div",{style:{position:"absolute",left:"0",width:"100%"}},i.a.createElement(h.a,{columns:this._columns,rowGetter:this.rowGetter,rowsCount:this.getSize(),minHeight:600,minColumnWidth:120,toolbar:i.a.createElement(T,null)}),i.a.createElement("div",{className:"disclaimer"},"Data above is only the first 100 rows. If you choose to download your current filter, it will provide the full dataset as stored in the database."))):null}}]),t}(a.Component),O=function(e){function t(e,n){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e,n))).state={grid:"labor"},a.handleClick=a.handleClick.bind(Object(m.a)(Object(m.a)(a))),a.showGrid=a.showGrid.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleClick",value:function(e){this.setState({grid:e})}},{key:"showGrid",value:function(){return"labor"===this.state.grid?i.a.createElement(k,null):"unemployment"===this.state.grid?i.a.createElement(R,null):void 0}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("button",{onClick:function(){return e.handleClick("labor")},className:"labor"===this.state.grid&&"current"},"National and Local Labor Force Statistics"),i.a.createElement("button",{onClick:function(){return e.handleClick("unemployment")},className:"unemployment"===this.state.grid&&"current"},"Current Employment"),this.showGrid())}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[111,2,1]]]);
//# sourceMappingURL=main.6d5df615.chunk.js.map